Следующая задача: создать схему интерфейса [Рис.~\ref{g5_ink1}] [Исходный код \ref{sc18_k_hb_room}].

\begin{figure}[H]
	\begin{center}
		\scalebox{0.6}{\input{Inkscape/Inkscape_img3.tex}}
		\caption{Общая схема клиентской части}
		\label{g5_ink1}
	\end{center}
\end{figure}

Для удобства было решено разделить страницу на три части [Рис.~\ref{g5_img1}]. В первой части (левой)
располагается основная информация комнаты, панель управления правами и список участников.
Вторая часть (центральная) содержит апплет \emph{GeoGebra}.
В третьей части (правой) был размещен чат [Исходный код \ref{sc34_k_js_messages}]. При этом, для экономии места,
левую и правую части можно свернуть. Когда они свернуты пользователь
может отследить активность чата и, если используется комната с
ограниченными правами, запрос на предоставление прав. Отслеживание
выполняется путем мигания боковых вертикальных кнопок (с помощью которых
и сворачиваются элементы).

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=\linewidth]{g5/img1.png}
		\caption{Веб-интерфейс}
		\label{g5_img1}
	\end{center}
\end{figure}

В комнате с ограниченными правами, если пользователь запрашивает доступ
с помощью специальной кнопки, то приходит уведомление владельцу и в
списке участников комнаты, напротив имени пользователя, запросившего
права, появляются две кнопки [Рис.~\ref{g5_img2}]: $+$ и $-$, нажимая первую, владелец передает
право редактировать доску, соответственно, нажимая вторую, он отказывает
в доступе.

\begin{figure}[H]
	\begin{center}
		\includegraphics[width=\linewidth]{g5/img2.png}
		\caption{Интерфейс передачи прав}
		\label{g5_img2}
	\end{center}
\end{figure}

Нeмaлoвaжной функцией является трансляция курсора мыши пользователя [Исходный код \ref{sc36_k_js_cursor}],
имеющего в данный момент право на редактирования доски. Она
включается соответствующей кнопкой в левой панели.
Данная функция реализована с помощью формул преобразования координат [Рис.~\ref{g5_img3}]:
\begin{equation*}
	\left\{
		\begin{aligned}
			& x=x_s+x', \\
			& y=y_s+y'.
		\end{aligned}
	\right.
\end{equation*}
\begin{figure}[H]
	\begin{center}
		\includegraphics[width=\linewidth]{g5/img3.png}
		\caption{Преобразование координат}
		\label{g5_img3}
	\end{center}
\end{figure}

Еще одной функцией является трансляция координат. Она
полностью синхронизирует перемещение координат апплета \emph{GeoGebra},
включается так же соответствующей кнопкой в левой панели.
Эта функция не включена по умолчанию, т.е. активируется
только кнопкой, т.к. в некоторых случаях она мешает просмотру.

Все элементы интерфейса были написаны с использованием
шаблонизатора \emph{handlebars}. Он обеспечивает более гибкую и свободную
компоновку элементов на момент создания веб-страницы.

Стоит отметить важность набора формул в чате, поэтому, используя библиотеку
\emph{KaTeX}, была добавлена поддержка синтаксиса \emph{LaTeX} [Исходный код \ref{sc35_k_js_latex}].
Т.е. каждое сообщение, которое приходит пользователю проверяется
библиотекой на наличие специальных символов.

Кроме чата в правой панели находится кнопка управления голосовой связью [Исходный код \ref{sc37_k_js_voice}],
по умолчанию голосовой канал пользователя отключен.

Также для эффективного использования экранного места был
добавлен полноэкранный режим [Исходный код \ref{sc30_k_js_fullScreen}] с помощью стандартных средств
языка \emph{JavaScript}.

Кроме основной страницы комнаты есть и вспомогательные: главная страница проекта [Исходный код \ref{sc14_k_hb_index}],
страница выбора типа прав [Исходный код \ref{sc15_k_hb_choiceCreateRoom}],
страница создания комнаты [Исходный код \ref{sc16_k_hb_createRoom}],
страница входа в комнату [Исходный код \ref{sc17_k_hb_connectRoom}] и
панель администратора [Исходный код \ref{sc20_k_hb_adminPanel}].

Вход в определенную комнату осуществляется с помощью сгенерированной
пары ключей [Рис.~\ref{g5_img4}]: ключ комнаты (номер комнаты) и ключ владельца,
последний нужен для работы
ограниченной системы прав. Эти ключи передаются на сервер, и он уже
отправляет пользователя в искомую комнату.
Данные ключи можно скопировать, нажав на соответствующую кнопку
при создании комнаты или, если комната уже создана, скопировать 
ключ комнаты через кнопку в левой панели.

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=\linewidth]{g5/img4.png}
		\caption{Интерфейс подключения к комнате}
		\label{g5_img4}
	\end{center}
\end{figure}

Представленная версия находится на стадии доработки, так как
исследование удобства данного веб-интерфейса еще не окончено.
